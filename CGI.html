<!DOCTYPE html>
<html lang="en">

<head>
<!--__RIM_REDIRECT__-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">

<title>CGI</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="HandheldFriendly" content="True"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="canonical" href="https://rimstone-lang.com/CGI.html" />
<style>


body, html {
    font-family: Quicksand,monospace,Helvetica, Arial, sans-serif;
    line-height: 150%;
    font-size:16px;
}

body {
    padding-left:1vw;
    padding-right:1vw;
}
    
.ncode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.shcode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.sqlcode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.htmlcode {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

.code {
    letter-spacing: 0px;
    font-family: monospace;
    font-size:83%;
    display:inline-block;
    max-width:99%;
    min-width:90%;
    margin:0;
    padding:0;
    padding-left:5px;
    padding-top:3px;
    padding-bottom:3px;
    margin-bottom:8px;
    margin-top:8px;
    border: 2px solid #d6d6d6;
    background-color:#f5f7f4;
    white-space:nowrap;
}

/*Just like h1 but for pdf conversion it would be indented this way it's not*/
.vhub {
    display: block;
   font-size: 1.6em;
   margin-top: 0.63em;
   margin-bottom: 0.63em;
   margin-left: 0;
   margin-right: 0;
   font-weight: bold;
}

/*Just like h2 but for pdf conversion it would be indented this way it's not*/
.vsub {
    display: block;
   font-size: 1.25em;
   margin-top: 0.53em;
   margin-bottom: 0.53em;
   margin-left: 0;
   margin-right: 0;
   font-weight: bold;
}

ul {
  margin-left: 0.75vw;
  padding-left: 0;
}
li {
  margin-left: 0.75vw;
  padding-left: 0;
}

/* this must be last, as it overrides previous settings, for mobile */
@media (hover: none) {
a {
   display: inline-block;
   padding-top: 3px;
   padding-bottom: 2px;
}
body {
    padding-left:2vw;
    padding-right:2vw;
    letter-spacing: 1px;
}
}

/*The following is for code snippets that are highlighted by 2html vim*/
pre { overflow-x: scroll; margin:0; padding:0; font-family:monospace; }
.Identifier { color: #008b8b; }
.Statement { color: #af5f00; }
.PreProc { color: #5fd7ff; }
.Type { color: #005f00; }
.Comment { color: blue ; }
.Constant { color: #ff00ff; }
/*end of highlighted snippets*/

a {
    text-decoration:none;
    padding-bottom: 0px; 
    color:inherit;
    border-bottom: 2px solid #6cb8f0;
}
a:hover {
    text-decoration: none;
    color:black;
    border-bottom: 1px solid red;
}
/*do not underline links nor should they be active*/
pre a {
    text-decoration:none;
    color:black;
    border-bottom: none;
    pointer-events: none;
    cursor: default;
}


.golfSnippet {display:none;}

ul {
  list-style-type:square;
  list-style-position: outside;
}

</style>


</head>
<body>
<div id="google_translate_element" style='float:right'></div>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script>
function rim_copy(gt, eid, gc) {
  gt.textContent = eid.textContent;
  gt.select();
  document.execCommand("copy");
  gc.style.visibility="visible"
  setTimeout(()=>{ gc.style.visibility="hidden"; }, 1000);
}
function googleTranslateElementInit() {
   new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
}

</script>

<!--RIMMENU13-->

<!--RIMENDMENU13-->



<!--BEGVDOC90-->
<div class='vhub' style='margin-top:10px;margin-right:20px;text-align:left;background-color:white;'><a href='https://rimstone-lang.com' style='border-bottom:0px'><img src='https://rimstone-lang.com/rimstone.png' style='width:180px;height:auto'/></a></div><div class='vhub' style='margin-top:10px;'>CGI</div><hr/>You can run RimStone application as a CGI (Common Gateway Interface) program, if your web server supports CGI. This is not recommended in general, as CGI programs do not exhibit great performance. However in some cases you may need to use CGI, such as when performance is not of critical importance, or when other methods of execution are not feasible.<br/>
<br/>
To run your application with CGI, use <a href='https://rimstone-lang.com/command-line.html'>command-line</a> program. Since RimStone applications require running in the security context of the user who owns the application, you must use "suexec" (or similar feature) of your web server.<br/>
<br/>
The following script sets up an application named "func_test" (any kind of application will do) to run as CGI (after it's been compiled with <a href='https://rimstone-lang.com/rim.html'>rim</a>) on Apache web server running on Ubuntu 18 and up. For other web servers/distros, consult their documentation on how to setup CGI for a program.<br/>
<div class="shcode" style='position:relative;padding-right:16px;'>
<pre id='code_464' class=notranslate>
<span class="Comment">#prep repos</span>
    sudo apt update

<span class="Comment">#enable CGI on apache</span>
    sudo a2enmod cgid
    sudo service apache2 restart

<span class="Comment">#Install suexec-custom for Apache</span>
    sudo apt-get <span class="Special">-y</span> install apache2-suexec-custom
    sudo a2enmod suexec
    sudo service apache2 restart

<span class="Comment">#setup a &quot;rim&quot; directory under cgi-bin where your application can run</span>
    sudo <span class="Statement">mkdir</span> <span class="Special">-p</span> /usr/lib/cgi-bin/rim
    sudo chown <span class="PreProc">$(</span><span class="Special">whoami</span><span class="PreProc">)</span>:<span class="PreProc">$(</span><span class="Special">whoami</span><span class="PreProc">)</span>  /usr/lib/cgi-bin/rim
    sudo <span class="Statement">sed</span> <span class="Special">-i</span> <span class="Statement">'</span><span class="Constant">1c\/usr/lib/cgi-bin/rim</span><span class="Statement">'</span> /etc/apache2/suexec/www-data

<span class="Comment">#copy your program to &quot;rim&quot; directory</span>
    sudo <span class="Statement">mv</span> <span class="PreProc">$HOME</span>/.rimstone/apps/func-test/.bld/func-test /usr/lib/cgi-bin/rim
    sudo chown <span class="PreProc">$(</span><span class="Special">whoami</span><span class="PreProc">)</span>:<span class="PreProc">$(</span><span class="Special">whoami</span><span class="PreProc">)</span>  /usr/lib/cgi-bin/rim/func-test
    sudo <span class="Statement">chmod</span> <span class="Constant">700</span>  /usr/lib/cgi-bin/rim/func-test

<span class="Comment">#add user/group of Gliim application user to suexec    </span>
    sudo <span class="Statement">sed</span> <span class="Special">-i</span> <span class="Statement">&quot;</span><span class="Constant">/SuexecUserGroup/d</span><span class="Statement">&quot;</span> /etc/apache2/sites-enabled/000-default.conf
    sudo <span class="Statement">sed</span> <span class="Special">-i</span> <span class="Statement">&quot;</span><span class="Constant">s/&lt;</span><span class="Special">\/</span><span class="Constant">VirtualHost&gt;/SuexecUserGroup </span><span class="PreProc">$(</span><span class="Special">whoami</span><span class="PreProc">)</span><span class="Constant"> </span><span class="PreProc">$(</span><span class="Special">whoami</span><span class="PreProc">)</span><span class="Special">\n</span><span class="Constant">&lt;</span><span class="Special">\/</span><span class="Constant">VirtualHost&gt;/g</span><span class="Statement">&quot;</span> /etc/apache2/sites-enabled/000-default.conf
    sudo service apache2 restart

<span class="Comment">#the application is at <a href="http://127.0.0.1/cgi-bin/rim/func-test?...">http://127.0.0.1/cgi-bin/rim/func-test?...</a></span>
<span class="Comment">#substitute 127.0.0.1 for your web address</span></pre>
<span id=rimstone_copied_464 style='position:absolute;right:-14px;top:-30px; cursor: pointer;visibility:hidden;background:white;'>Copied!</span>
<textarea id='rimstonet_464' style='position: absolute;left: -500%;'></textarea>
<img src='https://rimstone-lang.com/rimstone-copy-small-1.png' id='rimstoneb' onclick='rim_copy(rimstonet_464, code_464, rimstone_copied_464)' style='position:absolute;right:0;top:0; cursor: pointer;opacity:0.5;'/>
</div><br/>
<div class="vsub"><a id="See also"></a>See also</div>
 <a name='Running application'></a><span style="font-weight:bold;">Running application</span><br/>
<a href='https://rimstone-lang.com/application-setup.html'>application-setup</a> &nbsp;<br/>
<a href='https://rimstone-lang.com/CGI.html'>CGI</a> &nbsp;<br/>
<a href='https://rimstone-lang.com/command-line.html'>command-line</a> &nbsp;<br/>
<a href='https://rimstone-lang.com/service.html'>service</a> &nbsp; <br/>
<span style="font-weight:bold;">See all</span> <br/>
<a href='https://rimstone-lang.com/documentation.html'>documentation</a><br/>
<!--ENDVDOC90-->
<br/><div style='width:100%;clear:both;'>
<hr/>
<!--RIMFOOT77--><span style='font-size:80%'><a href="https://rimstone-lang.com/copyright.html">Copyright</a> (c) 2019-2025 Gliim LLC. All contents on this web site is "AS IS" without warranties or guarantees of any kind.</span>
</div><br/></body></html>


